# å¿«é€Ÿå¼€å§‹æŒ‡å—

## é—®é¢˜ä¿®å¤

å·²ä¿®å¤ npm ä¾èµ–é”™è¯¯ï¼Œä½¿ç”¨æ­£ç¡®çš„ Taro 4 å®˜æ–¹ä¾èµ–ï¼š
- âœ… `@tarojs/cli` - Taro å‘½ä»¤è¡Œå·¥å…·
- âœ… `@tarojs/helper` - Taro è¾…åŠ©å·¥å…·
- âœ… `@tarojs/plugin-platform-weapp` - å¾®ä¿¡å°ç¨‹åºç¼–è¯‘æ’ä»¶
- âœ… `@tarojs/plugin-platform-h5` - H5 ç¼–è¯‘æ’ä»¶

æ³¨ï¼šwebpack å’Œ babel ç”± Taro è‡ªåŠ¨ç®¡ç†ï¼Œæ— éœ€æ˜¾å¼å®‰è£…

## å®‰è£…æ­¥éª¤

### 1. æ¸…ç†æ—§ä¾èµ–ï¼ˆå¦‚æœä¹‹å‰æ‰§è¡Œè¿‡ npm installï¼‰
```bash
rm -rf node_modules
rm package-lock.json
```

### 2. é‡æ–°å®‰è£…ä¾èµ–
```bash
npm install
```

è¿™ä¼šè‡ªåŠ¨å®‰è£… package.json ä¸­çš„æ‰€æœ‰ä¾èµ–ï¼ŒåŒ…æ‹¬ä¿®å¤åçš„æ’ä»¶ã€‚

### 3. éªŒè¯å®‰è£…æˆåŠŸ
```bash
npm list @tarojs/plugin-platform-weapp
```

å¦‚æœèƒ½çœ‹åˆ°ç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚

---

## å¼€å‘è¿è¡Œ

### å¼€å‘å¾®ä¿¡å°ç¨‹åº
```bash
npm run dev:weapp
```

è¾“å‡ºï¼š
```
âœ” Taro build success!
âˆš dist æ–‡ä»¶å¤¹ç”ŸæˆæˆåŠŸ
```

ç„¶åç”¨ **å¾®ä¿¡å¼€å‘è€…å·¥å…·** æ‰“å¼€ `dist/` æ–‡ä»¶å¤¹ï¼š
1. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·
2. ç‚¹å‡» "å¯¼å…¥é¡¹ç›®"
3. é€‰æ‹©ä½ çš„ `family_digital_museum` é¡¹ç›®æ ¹ç›®å½•
4. ç¡®ä¿ "appid" æ˜¯æœ‰æ•ˆçš„ï¼ˆå¯ç”¨æµ‹è¯•å·ï¼‰

### å¼€å‘ H5 ç½‘é¡µç‰ˆæœ¬
```bash
npm run dev:h5
```

è¾“å‡ºï¼š
```
  Taro build success!
  âœ” H5 server running at http://localhost:10086/
```

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼šhttp://localhost:10086

---

## é¡¹ç›®æ„å»º

### æ„å»ºå¾®ä¿¡å°ç¨‹åº
```bash
npm run build:weapp
```

ç”Ÿæˆçš„æ–‡ä»¶ä½äº `dist/` ç›®å½•ï¼Œå¯ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸Šä¼ ã€‚

### æ„å»º H5 ç½‘é¡µç‰ˆæœ¬
```bash
npm run build:h5
```

ç”Ÿæˆçš„æ–‡ä»¶ä½äº `dist/` ç›®å½•ï¼Œå¯éƒ¨ç½²åˆ° Web æœåŠ¡å™¨ã€‚

---

## å¸¸è§é—®é¢˜

### Q: æ‰§è¡Œ npm run dev:weapp æŠ¥é”™æ‰¾ä¸åˆ°æ’ä»¶
**A**: å·²ä¿®å¤ä¾èµ–åŒ…ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
```bash
rm -rf node_modules package-lock.json
npm install
```
å¦‚æœä»ç„¶æŠ¥é”™ï¼Œå°è¯•æ¸…ç† npm ç¼“å­˜ï¼š
```bash
npm cache clean --force
npm install
```

### Q: å¾®ä¿¡å¼€å‘è€…å·¥å…·æ‰“å¼€åæ˜¾ç¤º"é¡¹ç›®é…ç½®é”™è¯¯"
**A**: æ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
1. ç¡®ä¿å·²åœ¨ dist æ–‡ä»¶å¤¹æ‰¾åˆ° `app.json` æ–‡ä»¶
2. æ£€æŸ¥ `project.config.json` ä¸­çš„ appid æ˜¯å¦æ­£ç¡®
3. å¯ä»¥ä½¿ç”¨æµ‹è¯•å· (å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¼šè‡ªåŠ¨é…ç½®)

### Q: H5 å¼€å‘æ—¶æ ·å¼åŠ è½½ä¸å‡ºæ¥
**A**: è¿™æ˜¯æ­£å¸¸çš„ï¼Œå¯èƒ½éœ€è¦ç¡¬åˆ·æ–°æµè§ˆå™¨ï¼š`Ctrl+Shift+R` (Windows) æˆ– `Cmd+Shift+R` (Mac)

### Q: ä¿®æ”¹äº†ä»£ç ä½†é¡µé¢æ²¡æœ‰æ›´æ–°
**A**:
- å¾®ä¿¡å°ç¨‹åºï¼šç­‰å¾…ç¼–è¯‘å®Œæˆï¼ˆä¸‹æ–¹ç¼–è¯‘å™¨ä¼šæ˜¾ç¤º âœ”ï¼‰
- H5ï¼šæµè§ˆå™¨ä¼šè‡ªåŠ¨çƒ­æ›´æ–°ï¼Œå¦‚æœæ²¡æœ‰å¯å°è¯•ç¡¬åˆ·æ–°

---

## é¡¹ç›®æ–‡ä»¶è¯´æ˜

```
family_digital_museum/
â”œâ”€â”€ config/                 # Taro ç¼–è¯‘é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/             # 8ä¸ªé¡µé¢ï¼Œæ¯ä¸ªéƒ½åŒ…å« .tsx å’Œ .scss æ–‡ä»¶
â”‚   â”œâ”€â”€ stores/            # Zustand å…¨å±€çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/          # API æ¥å£è°ƒç”¨
â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ app.tsx            # åº”ç”¨ä¸»æ–‡ä»¶
â”‚   â”œâ”€â”€ app.config.ts      # é¡µé¢å’Œå¯¼èˆªæ é…ç½®
â”‚   â””â”€â”€ app.scss           # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json           # ä¾èµ–ç®¡ç†
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ babel.config.js        # Babel é…ç½® âœ¨ æ–°å¢
â”œâ”€â”€ .eslintrc.js           # ESLint é…ç½® âœ¨ æ–°å¢
â”œâ”€â”€ .gitignore             # Git å¿½ç•¥æ–‡ä»¶ âœ¨ æ–°å¢
â”œâ”€â”€ project.config.json    # å¾®ä¿¡å°ç¨‹åºé…ç½®
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ DEVELOPMENT_GUIDE.md   # å¼€å‘æŒ‡å—
â””â”€â”€ QUICK_START.md         # æœ¬æ–‡ä»¶
```

---

## ä¸‹ä¸€æ­¥å¼€å‘

1. **ä¿®æ”¹å°ç¨‹åºä¿¡æ¯**
   - ç¼–è¾‘ `project.config.json` ä¸­çš„ `projectname` å’Œ `appid`
   - ç¼–è¾‘ `src/app.config.ts` ä¸­çš„ `navigationBarTitleText`

2. **è¿æ¥åç«¯ API**
   - åœ¨ `src/services/api.ts` ä¸­ä¿®æ”¹ `API_BASE_URL`
   - å®ç°å„ä¸ªæ¥å£çš„çœŸå®è¯·æ±‚

3. **å®šåˆ¶æ ·å¼å’Œäº¤äº’**
   - ä¿®æ”¹ `src/app.scss` ä¸­çš„è‰²å½©å˜é‡
   - åœ¨å„ä¸ªé¡µé¢çš„ `.scss` æ–‡ä»¶ä¸­è°ƒæ•´æ ·å¼

4. **æ·»åŠ ç”¨æˆ·è®¤è¯**
   - åœ¨ `src/stores/appStore.ts` ä¸­å®Œå–„ç™»å½•çŠ¶æ€ç®¡ç†
   - åœ¨ `src/services/api.ts` ä¸­å®ç°ç™»å½•æ¥å£

---

## æœ‰ç”¨çš„å‘½ä»¤

```bash
# ä»£ç è´¨é‡æ£€æŸ¥
npm run lint

# TypeScript ç±»å‹æ£€æŸ¥
npm run type-check

# æ¸…ç†ç¼–è¯‘è¾“å‡º
rm -rf dist

# æ›´æ–°ä¾èµ–
npm update

# æ£€æŸ¥å®‰å…¨æ¼æ´
npm audit
```

---

## è°ƒè¯•æŠ€å·§

### å¾®ä¿¡å°ç¨‹åºè°ƒè¯•
- åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ä½¿ç”¨ "Console" æ ‡ç­¾æŸ¥çœ‹æ—¥å¿—
- ä½¿ç”¨ "Storage" æ ‡ç­¾æŸ¥çœ‹æœ¬åœ°å­˜å‚¨æ•°æ®
- ä½¿ç”¨ "Network" æ ‡ç­¾ç›‘æ§ç½‘ç»œè¯·æ±‚

### H5 è°ƒè¯•
- æŒ‰ F12 æˆ–å³é”® â†’ æ£€æŸ¥å…ƒç´ æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- åœ¨ Console æ ‡ç­¾ä¸­æŸ¥çœ‹æ—¥å¿—
- åœ¨ Sources æ ‡ç­¾ä¸­è®¾ç½®æ–­ç‚¹è°ƒè¯•

---

## éœ€è¦å¸®åŠ©ï¼Ÿ

- æŸ¥çœ‹ [Taro å®˜æ–¹æ–‡æ¡£](https://docs.taro.zone/)
- æŸ¥çœ‹ [React æ–‡æ¡£](https://react.dev/)
- æŸ¥çœ‹ `DEVELOPMENT_GUIDE.md` è·å–æ›´è¯¦ç»†çš„å¼€å‘æŒ‡å—

---

**ç¥å¼€å‘æ„‰å¿«ï¼** ğŸš€
